version: '3.8'

# 開發環境配置
# 使用方式: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up

services:
  server:
    volumes:
      # 掛載原始碼以便熱重載（需要額外配置）
      - ./server:/app
      - ./server/user_fonts:/app/user_fonts
      - ./server/static:/app/static
    environment:
      - LOG_LEVEL=DEBUG
      - LOG_FORMAT=text  # 開發環境使用文字格式更易讀
    command: >
      sh -c "
        python -m server.ws_app &
        python -m server.app
      "

