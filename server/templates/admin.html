<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="csrf-token"
      content="{{ session.get('csrf_token', '') }}"
    />
    <title>Danmu Admin</title>
    <script src="{{ url_for('static', filename='vendor/tailwindcdn.js') }}"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body class="bg-black text-white min-h-screen overflow-x-hidden">
    <!-- Background Animation Container -->
    <div id="vanta-bg" class="fixed top-0 left-0 w-full h-full -z-10"></div>

    <div
      id="app-container"
      class="container mx-auto px-4 py-8 max-w-4xl relative z-10 animate-fade-in-scale-up"
    >
      <!-- Content will be rendered by JS -->
      <div class="flex justify-center items-center h-64">
        <div
          class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"
        ></div>
      </div>
    </div>

    <!-- Toast Container -->
    <div
      id="toast-container"
      class="fixed top-5 right-5 z-50 flex flex-col gap-2"
    ></div>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='vendor/three.min.js') }}"></script>
    <script src="{{ url_for('static', filename='vendor/vanta.net.min.js') }}"></script>
    
    <!-- Inject Configuration -->
    <script>
      window.DANMU_CONFIG = {
        session: { logged_in: {{ session.get('logged_in') | tojson }} },
        settingRanges: {{ ranges | tojson }}
      };
    </script>
    
    <script src="{{ url_for('static', filename='js/admin.js') }}"></script>
  </body>
</html>
